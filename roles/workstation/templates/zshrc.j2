bindkey -e

# Modules
autoload -Uz compinit vcs_info
autoload -Uz up-line-or-beginning-search down-line-or-beginning-search

# History search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search

[[ -n "$key[Up]"   ]] && bindkey -- "$key[Up]"   up-line-or-beginning-search
[[ -n "$key[Down]" ]] && bindkey -- "$key[Down]" down-line-or-beginning-search


# vcs_info configurations
precmd_vcs_info() { vcs_info }
precmd_functions+=( precmd_vcs_info )
setopt prompt_subst
RPROMPT=\$vcs_info_msg_0_
zstyle ':vcs_info:git*' actionformats "%u%c %b"
zstyle ':vcs_info:*' check-for-changes true

# Shell options
setopt auto_cd                  \
    hist_verify                 \
    hist_append                 \
    rm_star_silent              \
    hist_fcntl_lock             \
    complete_aliases            \
    hist_save_no_dups           \
    hist_ignore_space           \
    hist_ignore_space           \
    hist_reduce_blanks          \
    inc_append_history          \
    hist_ignore_all_dups        \

READNULLCMD=$PAGER
HELPDIR=/usr/share/zsh/$ZSH_VERSION/help
HISTFILE=$HOME/.zsh_history
HISTSIZE=25000
SAVEHIST=$HISTSIZE
HISTORY_IGNORE="ls:[bf]g:clear:reset:cd:cd ..:exit"

PROMPT='%M%F{green}${branch}%f %F{cyan}%~ %f'


# Misc aliases
alias e='$EDITOR'
alias resrc='source $HOME/.zshrc'
alias mkdir='mkdir -vp'
alias ln='ln -vi'
alias ls='ls -ltr'
alias cp='cp -rvi'
alias mv='mv -vi'
alias grep='grep --color=auto'

alias aria2t="aria2c --bt-force-encryption=true --seed-time=0"
